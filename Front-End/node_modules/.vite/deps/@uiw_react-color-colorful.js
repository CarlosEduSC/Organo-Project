import {
  _extends,
  color,
  hexToHsva,
  hsvaToHex,
  hsvaToHslaString,
  hsvaToRgbaString,
  validHex
} from "./chunk-6NDPJYQT.js";
import {
  require_jsx_runtime
} from "./chunk-6PXSGDAH.js";
import {
  require_react
} from "./chunk-DRWLMN53.js";
import {
  __toESM
} from "./chunk-G3PMV62Z.js";

// node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js
function _objectWithoutPropertiesLoose(r, e) {
  if (null == r) return {};
  var t = {};
  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {
    if (e.includes(n)) continue;
    t[n] = r[n];
  }
  return t;
}

// node_modules/@uiw/react-color-colorful/esm/index.js
var import_react9 = __toESM(require_react());

// node_modules/@uiw/react-color-alpha/esm/index.js
var import_react4 = __toESM(require_react());

// node_modules/@uiw/react-drag-event-interactive/esm/index.js
var import_react2 = __toESM(require_react());

// node_modules/@uiw/react-drag-event-interactive/esm/utils.js
var import_react = __toESM(require_react());
function useEventCallback(handler) {
  var callbackRef = (0, import_react.useRef)(handler);
  (0, import_react.useEffect)(() => {
    callbackRef.current = handler;
  });
  return (0, import_react.useCallback)((value, event) => callbackRef.current && callbackRef.current(value, event), []);
}
var isTouch = (event) => "touches" in event;
var preventDefaultMove = (event) => {
  !isTouch(event) && event.preventDefault && event.preventDefault();
};
var clamp = function clamp2(number, min, max) {
  if (min === void 0) {
    min = 0;
  }
  if (max === void 0) {
    max = 1;
  }
  return number > max ? max : number < min ? min : number;
};
var getRelativePosition = (node, event) => {
  var rect = node.getBoundingClientRect();
  var pointer = isTouch(event) ? event.touches[0] : event;
  return {
    left: clamp((pointer.pageX - (rect.left + window.pageXOffset)) / rect.width),
    top: clamp((pointer.pageY - (rect.top + window.pageYOffset)) / rect.height),
    width: rect.width,
    height: rect.height,
    x: pointer.pageX - (rect.left + window.pageXOffset),
    y: pointer.pageY - (rect.top + window.pageYOffset)
  };
};

// node_modules/@uiw/react-drag-event-interactive/esm/index.js
var import_jsx_runtime = __toESM(require_jsx_runtime());
var _excluded = ["prefixCls", "className", "onMove", "onDown"];
var Interactive = import_react2.default.forwardRef((props, ref) => {
  var {
    prefixCls = "w-color-interactive",
    className,
    onMove,
    onDown
  } = props, reset = _objectWithoutPropertiesLoose(props, _excluded);
  var container = (0, import_react2.useRef)(null);
  var hasTouched = (0, import_react2.useRef)(false);
  var [isDragging, setDragging] = (0, import_react2.useState)(false);
  var onMoveCallback = useEventCallback(onMove);
  var onKeyCallback = useEventCallback(onDown);
  var isValid = (event) => {
    if (hasTouched.current && !isTouch(event)) return false;
    hasTouched.current = isTouch(event);
    return true;
  };
  var handleMove = (0, import_react2.useCallback)((event) => {
    preventDefaultMove(event);
    var isDown = isTouch(event) ? event.touches.length > 0 : event.buttons > 0;
    if (isDown && container.current) {
      onMoveCallback && onMoveCallback(getRelativePosition(container.current, event), event);
    } else {
      setDragging(false);
    }
  }, [onMoveCallback]);
  var handleMoveEnd = (0, import_react2.useCallback)(() => setDragging(false), []);
  var toggleDocumentEvents = (0, import_react2.useCallback)((state) => {
    var toggleEvent = state ? window.addEventListener : window.removeEventListener;
    toggleEvent(hasTouched.current ? "touchmove" : "mousemove", handleMove);
    toggleEvent(hasTouched.current ? "touchend" : "mouseup", handleMoveEnd);
  }, []);
  (0, import_react2.useEffect)(() => {
    toggleDocumentEvents(isDragging);
    return () => {
      isDragging && toggleDocumentEvents(false);
    };
  }, [isDragging, toggleDocumentEvents]);
  var handleMoveStart = (0, import_react2.useCallback)((event) => {
    preventDefaultMove(event.nativeEvent);
    if (!isValid(event.nativeEvent)) return;
    onKeyCallback && onKeyCallback(getRelativePosition(container.current, event.nativeEvent), event.nativeEvent);
    setDragging(true);
  }, [onKeyCallback]);
  return (0, import_jsx_runtime.jsx)("div", _extends({}, reset, {
    className: [prefixCls, className || ""].filter(Boolean).join(" "),
    style: _extends({}, reset.style, {
      touchAction: "none"
    }),
    ref: container,
    tabIndex: 0,
    onMouseDown: handleMoveStart,
    onTouchStart: handleMoveStart
  }));
});
Interactive.displayName = "Interactive";
var esm_default = Interactive;

// node_modules/@uiw/react-color-alpha/esm/Pointer.js
var import_react3 = __toESM(require_react());
var import_jsx_runtime2 = __toESM(require_jsx_runtime());
var _excluded2 = ["className", "prefixCls", "left", "top", "style", "fillProps"];
var Pointer = (_ref) => {
  var {
    className,
    prefixCls,
    left,
    top,
    style,
    fillProps
  } = _ref, reset = _objectWithoutPropertiesLoose(_ref, _excluded2);
  var styleWrapper = _extends({}, style, {
    position: "absolute",
    left,
    top
  });
  var stylePointer = _extends({
    width: 18,
    height: 18,
    boxShadow: "var(--alpha-pointer-box-shadow)",
    borderRadius: "50%",
    backgroundColor: "var(--alpha-pointer-background-color)"
  }, fillProps == null ? void 0 : fillProps.style, {
    transform: left ? "translate(-9px, -1px)" : "translate(-1px, -9px)"
  });
  return (0, import_jsx_runtime2.jsx)("div", _extends({
    className: prefixCls + "-pointer " + (className || ""),
    style: styleWrapper
  }, reset, {
    children: (0, import_jsx_runtime2.jsx)("div", _extends({
      className: prefixCls + "-fill"
    }, fillProps, {
      style: stylePointer
    }))
  }));
};

// node_modules/@uiw/react-color-alpha/esm/index.js
var import_jsx_runtime3 = __toESM(require_jsx_runtime());
var _excluded3 = ["prefixCls", "className", "hsva", "background", "bgProps", "innerProps", "pointerProps", "radius", "width", "height", "direction", "style", "onChange", "pointer"];
var BACKGROUND_IMG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==";
var Alpha = import_react4.default.forwardRef((props, ref) => {
  var {
    prefixCls = "w-color-alpha",
    className,
    hsva,
    background,
    bgProps = {},
    innerProps = {},
    pointerProps = {},
    radius = 0,
    width,
    height = 16,
    direction = "horizontal",
    style,
    onChange,
    pointer
  } = props, other = _objectWithoutPropertiesLoose(props, _excluded3);
  var handleChange = (offset) => {
    onChange && onChange(_extends({}, hsva, {
      a: direction === "horizontal" ? offset.left : offset.top
    }), offset);
  };
  var colorTo = hsvaToHslaString(Object.assign({}, hsva, {
    a: 1
  }));
  var innerBackground = "linear-gradient(to " + (direction === "horizontal" ? "right" : "bottom") + ", rgba(244, 67, 54, 0) 0%, " + colorTo + " 100%)";
  var comProps = {};
  if (direction === "horizontal") {
    comProps.left = hsva.a * 100 + "%";
  } else {
    comProps.top = hsva.a * 100 + "%";
  }
  var styleWrapper = _extends({
    "--alpha-background-color": "#fff",
    "--alpha-pointer-background-color": "rgb(248, 248, 248)",
    "--alpha-pointer-box-shadow": "rgb(0 0 0 / 37%) 0px 1px 4px 0px",
    borderRadius: radius,
    background: "url(" + BACKGROUND_IMG + ") left center",
    backgroundColor: "var(--alpha-background-color)"
  }, {
    width,
    height
  }, style, {
    position: "relative"
  });
  var pointerElement = pointer && typeof pointer === "function" ? pointer(_extends({
    prefixCls
  }, pointerProps, comProps)) : (0, import_jsx_runtime3.jsx)(Pointer, _extends({}, pointerProps, {
    prefixCls
  }, comProps));
  return (0, import_jsx_runtime3.jsxs)("div", _extends({}, other, {
    className: [prefixCls, prefixCls + "-" + direction, className || ""].filter(Boolean).join(" "),
    style: styleWrapper,
    ref,
    children: [(0, import_jsx_runtime3.jsx)("div", _extends({}, bgProps, {
      style: _extends({
        inset: 0,
        position: "absolute",
        background: background || innerBackground,
        borderRadius: radius
      }, bgProps.style)
    })), (0, import_jsx_runtime3.jsx)(esm_default, _extends({}, innerProps, {
      style: _extends({}, innerProps.style, {
        inset: 0,
        zIndex: 1,
        position: "absolute"
      }),
      onMove: handleChange,
      onDown: handleChange,
      children: pointerElement
    }))]
  }));
});
Alpha.displayName = "Alpha";
var esm_default2 = Alpha;

// node_modules/@uiw/react-color-saturation/esm/index.js
var import_react7 = __toESM(require_react());

// node_modules/@uiw/react-color-saturation/esm/Pointer.js
var import_react5 = __toESM(require_react());
var import_react6 = __toESM(require_react());
var import_jsx_runtime4 = __toESM(require_jsx_runtime());
var Pointer2 = (_ref) => {
  var {
    className,
    color: color2,
    left,
    top,
    prefixCls
  } = _ref;
  var style = {
    position: "absolute",
    top,
    left
  };
  var stylePointer = {
    "--saturation-pointer-box-shadow": "rgb(255 255 255) 0px 0px 0px 1.5px, rgb(0 0 0 / 30%) 0px 0px 1px 1px inset, rgb(0 0 0 / 40%) 0px 0px 1px 2px",
    width: 6,
    height: 6,
    transform: "translate(-3px, -3px)",
    boxShadow: "var(--saturation-pointer-box-shadow)",
    borderRadius: "50%",
    backgroundColor: color2
  };
  return (0, import_react6.useMemo)(() => (0, import_jsx_runtime4.jsx)("div", {
    className: prefixCls + "-pointer " + (className || ""),
    style,
    children: (0, import_jsx_runtime4.jsx)("div", {
      className: prefixCls + "-fill",
      style: stylePointer
    })
  }), [top, left, color2, className, prefixCls]);
};

// node_modules/@uiw/react-color-saturation/esm/index.js
var import_jsx_runtime5 = __toESM(require_jsx_runtime());
var _excluded4 = ["prefixCls", "radius", "pointer", "className", "hue", "style", "hsva", "onChange"];
var Saturation = import_react7.default.forwardRef((props, ref) => {
  var _hsva$h;
  var {
    prefixCls = "w-color-saturation",
    radius = 0,
    pointer,
    className,
    hue = 0,
    style,
    hsva,
    onChange
  } = props, other = _objectWithoutPropertiesLoose(props, _excluded4);
  var containerStyle = _extends({
    width: 200,
    height: 200,
    borderRadius: radius
  }, style, {
    position: "relative"
  });
  var handleChange = (interaction, event) => {
    onChange && hsva && onChange({
      h: hsva.h,
      s: interaction.left * 100,
      v: (1 - interaction.top) * 100,
      a: hsva.a
      // source: 'hsv',
    });
  };
  var pointerElement = (0, import_react7.useMemo)(() => {
    if (!hsva) return null;
    var comProps = {
      top: 100 - hsva.v + "%",
      left: hsva.s + "%",
      color: hsvaToHslaString(hsva)
    };
    if (pointer && typeof pointer === "function") {
      return pointer(_extends({
        prefixCls
      }, comProps));
    }
    return (0, import_jsx_runtime5.jsx)(Pointer2, _extends({
      prefixCls
    }, comProps));
  }, [hsva, pointer, prefixCls]);
  return (0, import_jsx_runtime5.jsx)(esm_default, _extends({
    className: [prefixCls, className || ""].filter(Boolean).join(" ")
  }, other, {
    style: _extends({
      position: "absolute",
      inset: 0,
      cursor: "crosshair",
      backgroundImage: "linear-gradient(0deg, #000, transparent), linear-gradient(90deg, #fff, hsl(" + ((_hsva$h = hsva == null ? void 0 : hsva.h) != null ? _hsva$h : hue) + ", 100%, 50%))"
    }, containerStyle),
    ref,
    onMove: handleChange,
    onDown: handleChange,
    children: pointerElement
  }));
});
Saturation.displayName = "Saturation";
var esm_default3 = Saturation;

// node_modules/@uiw/react-color-hue/esm/index.js
var import_react8 = __toESM(require_react());
var import_jsx_runtime6 = __toESM(require_jsx_runtime());
var _excluded5 = ["prefixCls", "className", "hue", "onChange", "direction"];
var Hue = import_react8.default.forwardRef((props, ref) => {
  var {
    prefixCls = "w-color-hue",
    className,
    hue = 0,
    onChange: _onChange,
    direction = "horizontal"
  } = props, other = _objectWithoutPropertiesLoose(props, _excluded5);
  return (0, import_jsx_runtime6.jsx)(esm_default2, _extends({
    ref,
    className: prefixCls + " " + (className || "")
  }, other, {
    direction,
    background: "linear-gradient(to " + (direction === "horizontal" ? "right" : "bottom") + ", rgb(255, 0, 0) 0%, rgb(255, 255, 0) 17%, rgb(0, 255, 0) 33%, rgb(0, 255, 255) 50%, rgb(0, 0, 255) 67%, rgb(255, 0, 255) 83%, rgb(255, 0, 0) 100%)",
    hsva: {
      h: hue,
      s: 100,
      v: 100,
      a: hue / 360
    },
    onChange: (_, interaction) => {
      _onChange && _onChange({
        h: direction === "horizontal" ? 360 * interaction.left : 360 * interaction.top
      });
    }
  }));
});
Hue.displayName = "Hue";
var esm_default4 = Hue;

// node_modules/@uiw/react-color-colorful/esm/index.js
var import_jsx_runtime7 = __toESM(require_jsx_runtime());
var _excluded6 = ["style", "color"];
var _excluded22 = ["prefixCls", "className", "onChange", "color", "style", "disableAlpha"];
var Pointer3 = (_ref) => {
  var {
    style,
    color: color2
  } = _ref, props = _objectWithoutPropertiesLoose(_ref, _excluded6);
  var stylePointer = _extends({
    "--colorful-pointer-background-color": "#fff",
    "--colorful-pointer-border": "2px solid #fff",
    height: 28,
    width: 28,
    position: "absolute",
    transform: "translate(-14px, -4px)",
    boxShadow: "0 2px 4px rgb(0 0 0 / 20%)",
    borderRadius: "50%",
    background: "url(" + BACKGROUND_IMG + ")",
    backgroundColor: "var(--colorful-pointer-background-color)",
    border: "var(--colorful-pointer-border)",
    zIndex: 1
  }, style);
  return (0, import_jsx_runtime7.jsx)("div", _extends({}, props, {
    style: stylePointer,
    children: (0, import_jsx_runtime7.jsx)("div", {
      style: {
        backgroundColor: color2,
        borderRadius: "50%",
        height: " 100%",
        width: "100%"
      }
    })
  }));
};
var Colorful = import_react9.default.forwardRef((props, ref) => {
  var {
    prefixCls = "w-color-colorful",
    className,
    onChange,
    color: color2,
    style,
    disableAlpha
  } = props, other = _objectWithoutPropertiesLoose(props, _excluded22);
  var hsva = typeof color2 === "string" && validHex(color2) ? hexToHsva(color2) : color2 || {};
  var handleChange = (value) => onChange && onChange(color(value));
  return (0, import_jsx_runtime7.jsxs)("div", _extends({
    ref,
    style: _extends({
      width: 200,
      position: "relative"
    }, style)
  }, other, {
    className: prefixCls + " " + (className || ""),
    children: [(0, import_jsx_runtime7.jsx)(esm_default3, {
      hsva,
      className: prefixCls,
      radius: "8px 8px 0 0",
      style: {
        width: "auto",
        height: 150,
        minWidth: 120,
        borderBottom: "12px solid #000"
      },
      pointer: (_ref2) => {
        var {
          left,
          top,
          color: color3
        } = _ref2;
        return (0, import_jsx_runtime7.jsx)(Pointer3, {
          style: {
            left,
            top,
            transform: "translate(-16px, -16px)"
          },
          color: hsvaToHex(hsva)
        });
      },
      onChange: (newColor) => handleChange(_extends({}, hsva, newColor))
    }), (0, import_jsx_runtime7.jsx)(esm_default4, {
      hue: hsva.h,
      height: 24,
      radius: disableAlpha ? "0 0 8px 8px" : 0,
      className: prefixCls,
      onChange: (newHue) => handleChange(_extends({}, hsva, newHue)),
      pointer: (_ref3) => {
        var {
          left
        } = _ref3;
        return (0, import_jsx_runtime7.jsx)(Pointer3, {
          style: {
            left
          },
          color: "hsl(" + (hsva.h || 0) + "deg 100% 50%)"
        });
      }
    }), !disableAlpha && (0, import_jsx_runtime7.jsx)(esm_default2, {
      hsva,
      height: 24,
      className: prefixCls,
      radius: "0 0 8px 8px",
      pointer: (_ref4) => {
        var {
          left
        } = _ref4;
        return (0, import_jsx_runtime7.jsx)(Pointer3, {
          style: {
            left
          },
          color: hsvaToRgbaString(hsva)
        });
      },
      onChange: (newAlpha) => handleChange(_extends({}, hsva, newAlpha))
    })]
  }));
});
Colorful.displayName = "Colorful";
var esm_default5 = Colorful;
export {
  esm_default5 as default
};
//# sourceMappingURL=@uiw_react-color-colorful.js.map
